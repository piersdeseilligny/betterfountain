<html>
<head>
    <link rel="stylesheet" type="text/css" href="$CODICON_CSS$">
    <style>
    body {
        animation: fadein 0s;
        padding:0;
        --scenecolor-dawn: rgb(202 173 142 / 50%);
        --scenecolor-day: rgb(202 173 142);
        --scenecolor-dusk: rgba(92, 51, 167, 0.5);
        --scenecolor-night: rgb(116 85 173);
        --scenecolor-int: rgb(177 104 82);
        --scenecolor-ext: rgb(82 173 160);
        --scenecolor-mixed: rgb(138 61 61);
        --scenecolor-other: black;
    }

    @keyframes fadein {
        from {
            opacity:0;
        }
        to {
            opacity:1;
        }
    }

    table {
        border-collapse: collapse;
        border: 1px solid;
        border-color: var(--vscode-textSeparator-foreground);
        table-layout: fixed;
    }

    th {
    	text-align: left;
    	border-bottom: 1px solid;
        border-color:var(--vscode-textSeparator-foreground);
        cursor: pointer;
        user-select: none;
    }

    tbody>tr:nth-child(even){
        background-color:rgba(255,255,255,0.025);
    }

    td, th {
        padding: 5px 10px;
        position:relative;
        overflow:hidden;
    }
    td:first-child {
        font-weight: 600;
    }
    td:not(:first-child), th:not(:first-child){
        border-left: solid 1px;
        border-color:var(--vscode-textSeparator-foreground) !important;
    }
    th.sorting_asc:after, th.sorting_desc:after {
        content: '\eab4';
        font-family: 'codicon';
        position: absolute;
        right: 4px;
        top:7px;
        background: var(--vscode-editor-background);
    }
    th.sorting_desc:after {
        content: '\eab7';
    }

    .dataTables_length{
        float: left;
        margin-bottom: 12px;
    }
    .dataTables_filter{
        float:right;
        margin-bottom: 12px;
        margin-right:5px;
    }

    .hyperbtn{
        text-decoration: none;
        outline:none !important;
    }
    .hyperbtn:hover{
        opacity:0.6;
    }
    .chartinfo{
        color: var(--vscode-input-placeholderForeground);
        float: left;
        margin-top: 8px;
        margin-left: 10px;
        user-select:none;
    }
    input{
        background-color: var(--vscode-input-background);
        outline: solid 1px;
        border:none;
        outline-color: transparent;
        font-family: inherit;
        color: var(--vscode-input-foreground);
        height: 25px;
        padding:3px;
        padding-left:5px;
        display:block;
        outline-offset: -1px;
        font-size:13px;
    }
    input::-webkit-search-cancel-button{
        display:none;
    }
    input::placeholder{
        color: var(--vscode-input-placeholderForeground);
        user-select: none;
    }
    input:focus{
        outline-color: var(--vscode-focusBorder);
    }

    select{
        background: transparent;
        font-weight: 600;
        outline:none;
        border: none;
        display: inline-block;
        width: 40px;
        color: var(--vscode-textLink-foreground);
    }
    option{
        background: var(--vscode-menu-background);
        border: none;
        outline: none;
        color: var(--vscode-menu-foreground);
    }

    .sidenav{
        position:fixed;
        width: 200px;
        height:100%;
        top:0;
        background-color:var(--vscode-sideBar-background);
        user-select: none;
        display: flex;
        flex-direction: column;
    }
    .sidenav .footer{
        margin-top:auto;
        margin-bottom:12px;
    }
    .sidenav .title{
        margin-left: 24px;
        margin-top: 24px;
        margin-bottom: 6px;
        font-size: 16px;
        font-weight: 500;
    }
    .sidenav .title .codicon{
        font-size:18px;
    }
    .sidenav ul{
        list-style-type:none;
        padding: 0;
        margin:0;
    }
    .sidenav li{
        cursor:pointer;
        padding: 2px 24px 2px 24px;
        color:var(--vscode-list-deemphasizedForeground);
        line-height:24px;
    }
    .sidenav .codicon{
        vertical-align: sub;
        margin-right:6px;
    }
    .sidenav li:hover{
        color:var(--vscode-list-hoverForeground);
        background-color:var(--vscode-list-hoverBackground);
    }
    .sidenav li:active{
        color: var(--vscode-list-inactiveSelectionForeground);
    }
    .sidenav li.active{
        font-weight: 500;
        color: var(--vscode-list-inactiveSelectionForeground);
        background-color:var(--vscode-list-inactiveSelectionBackground)
    }
    #maincontent.isactive .sidenav li.active{
        color: var(--vscode-list-activeSelectionForeground);
        background-color:var(--vscode-list-activeSelectionBackground)
    }

    #versionIndicator.loading{
        color:var(--vscode-gitDecoration-addedResourceForeground);
    }
    @keyframes spin { 100% { -webkit-transform: rotate(360deg); transform:rotate(360deg); } }
    #versionIndicator.loading .codicon-sync {
        animation:spin 1.5s linear infinite;
    }
    #versionIndicator.stale{
        color:var(--vscode-gitDecoration-modifiedResourceForeground);
    }

    .splitview #content{
        margin-left:200px;
        box-sizing:border-box;
    }
    #content > div{
        margin: 0 24px 0px 48px;
    }
    .flexgroup{
        display: flex;
        flex-wrap: wrap;
    }
    .flexgroup{
        margin-top:-12px;
    }

    .flexgroup.durationstats .flexitem{
        margin-left: 0px;
    }
    .flexgroup.durationstats .description, .flexgroup.durationstats .number{
        text-align: start;
    }
    .flexitem{
        max-width:min-content;
        margin-right: 43px;
        margin-top:12px;
    }
    .flexitem:last-child{
        margin-right: 0;
    }
    .flexitem .description{
        text-align: center;
        opacity: 0.75;
        user-select: none;
    }
    .flexitem .number{
        text-align: center;;
        font-size: 22px;
    }
    .flexitem .minor .number{
        font-size:16px;
    }
    #lengthStats-pagesFractional{
        font-size: 0.75em;
        transform: translate(2px,-2px);
        display: inline-block;
        opacity: 0.8;
    }
    h1{
        font-weight: 500;
        margin-top:24px;
        margin-bottom:12px;
        user-select: none;
        position: relative;
    }
    h1 .codicon{
        font-size: 20px !important;
        position: absolute;
        bottom: 5px;
        left: -32px;
    }

    .mouse-line{
        fill: var(--vscode-panel-border);
    }
    .caret-line{
        fill: var(--vscode-panel-border);
    }
    .selection-box{
        fill:var(--vscode-editor-selectionBackground);
    }

    .durationstats-selection{
        font-size:12px;
        opacity:0.8;
    }
    #durationStats-lengthchart .chart-data[data-line="0"]{
        stroke: var(--vscode-symbolIcon-constructorForeground);
    }
    #durationStats-action, #durationStats-action-hover, .durationstats-selection-action{
        color: var(--vscode-symbolIcon-constructorForeground);
    }
    #durationStats-lengthchart .chart-data[data-line="1"]{
        stroke: var(--vscode-symbolIcon-fieldForeground);
    }
    #durationStats-dialogue, #durationStats-dialogue-hoverm .durationstats-selection-dialogue{
        color: var(--vscode-symbolIcon-fieldForeground);
    }
    .chart-container{
        stroke:var(--vscode-panel-border);
        fill:var(--vscode-panel-background);
    }
    .mouse-over-effects text{
        fill:var(--vscode-breadcrumb-foreground);
        background-color: var(--vscode-breadcrumb-background);
    }
    .durationstats-selection-action{
        fill:var(--vscode-symbolIcon-constructorForeground) !important;
    }
    .durationstats-selection-dialogue{
        fill:var(--vscode-symbolIcon-fieldForeground) !important;
    }
    tspan.chevron{
        font: normal normal normal 16px/1 codicon;
    }

    svg .button, a.smallbtn{
        font: normal normal normal 16px/1 codicon;
        width:24px;
        fill:var(--vscode-breadcrumb-foreground);
        color:var(--vscode-breadcrumb-foreground);
        user-select: none;
        cursor: pointer;
    }
    svg .button:hover, a.smallbtn:hover{
        fill:var(--vscode-breadcrumb-focusForeground);
        color:var(--vscode-breadcrumb-focusForeground);
    }
    svg .button:active, a.smallbtn:active{
        fill:var(--vscode-breadcrumb-activeSelectionForeground);
        color:var(--vscode-breadcrumb-activeSelectionForeground);
    }

    .buttonseperator{
        fill:var(--vscode-breadcrumb-foreground);
        opacity:0.5;
        transform: translateX(8px);
    }
    .footer .codicon{
        font-size:18px;
        color: var(--vscode-editorwarning-foreground) !important;
    }
    .footer .btntitle{
        font-size: 16px;
        font-weight: 500;
        color: var(--vscode-editorwarning-foreground) !important;
    }
    .footer .details {
        line-height: 16px;
        display: block;
        margin-left: 28px;
        margin-right: -12px;
    }
    .footer li{
        padding-top:12px;
        padding-bottom: 12px;
    }
    #characterStats-lengthchart{
        height:120px;
    }
    .deemphasize{
        opacity:0.5;
    }
    .dataTables_paginate{
        float:left;
        margin-top: 10px;
        margin-left: 5px;
    }
    .dataTables_info{
        float:right;
        margin-top: 10px;
        margin-right: 5px;
    }
    .dataTable tr td{
        color: var(--vscode-descriptionForeground);
        transition: all 0.2s;
    }
    .dataTable tr:hover td{
        color: white !important;
        transition:none;
    }
    .dataTables_paginate .paginate_button{
        cursor: pointer;
        padding: 2px;
        font-size:13px;
    }
    a.paginate_button:not(.current):hover {
        opacity: 0.6;
    }
    .dataTables_paginate .paginate_button.current{
        cursor:default;
        color: var(--vscode-descriptionForeground);
        opacity:1;
    }
    #characterStats-lengthchart [data-line]{
        transition: fill 0.2s, stroke 0.2s;
    }
    #characterStats-lengthchart circle[data-line].hover{
        fill:var(--vscode-foreground) !important;
        transition:none;
    }
    #characterStats-lengthchart path[data-line].hover{
        stroke:var(--vscode-foreground) !important;
        transition:none;
    }

    .chart-data-barcode[data-y='int']{
        fill: var(--scenecolor-int)
    }
    .chart-data-barcode[data-y='ext']{
        fill:var(--scenecolor-ext)
    }
    .chart-data-barcode[data-y='mixed']{
        fill:var(--scenecolor-mixed)
    }
    .chart-data-barcode[data-y='other']{
        fill:var(--scenecolor-other)
    }
    .chart-data-barcode[data-y='morning'], .chart-data-barcode[data-y='dawn']{
        fill:var(--scenecolor-dawn)
    }
    .chart-data-barcode[data-y='day']{
        fill:var(--scenecolor-day)
    }
    .chart-data-barcode[data-y='evening'], .chart-data-barcode[data-y='dusk']{
        fill: var(--scenecolor-dusk)
    }
    .chart-data-barcode[data-y='night']{
        fill: var(--scenecolor-night)
    }

    .summary{
        margin: 6px 0 12px 0;
        opacity:0.75;
    }
    .hidden{
        display: none;
    }
    
    </style>
</head>
<body>
    
<div id="maincontent" class="splitview">
    <div class="sidenav" id="sidenav">
        <div class="title"><span class="codicon codicon-pulse"></span>Statistics</div>

        <ul>
            <li data-group="overview" id="hello" class="active">
                <span class="codicon codicon-star-empty"></span>Overview
            </li>
            <li data-group="characters">
                <span class="codicon codicon-organization"></span>Characters
            </li>
            <li data-group="scenes">
                <span class="codicon codicon-output"></span>Scenes
            </li>
            <!--<li data-group="locations">
                <span class="codicon codicon-location"></span>Locations
            </li>-->
        </ul>
       <!-- <div class="title"><span class="codicon codicon-book"></span>Reports</div> 
        <ul>
            <li data-group="characters">
                <span class="codicon codicon-organization"></span>Characters
            </li>
            <li data-group="scenes">
                <span class="codicon codicon-output"></span>Scenes
            </li>
            <li data-group="locations">
                <span class="codicon codicon-location"></span>Locations
            </li>
        </ul>-->
        <ul class="footer">
            <li id="versionIndicator" class="loading">
                <span class="codicon codicon-sync"></span>
                <span class="btntitle">Loading</span>
                <span class="details">Please wait...</span>
            </li>
        </ul>
    </div>
    <div id="content" class="content">
        <div data-group="overview">
            <h1><span class="codicon codicon-symbol-ruler"></span>Length</h1>
            <div class="flexgroup lengthstats">
                <div class="flexitem">
                    <div class="description" title="The length of the screenplay in pages, excluding the title page and any forced page breaks">Pages</div>
                    <div class="number" title="The length of the screenplay in pages, excluding the title page and any forced page breaks"><span id="lengthStats-pagesWhole">0</span><span id="lengthStats-pagesFractional"></span></div>
                    <div class="description" title="The length of the screenplay in pages that will be printed (including the title page and any forced page breaks)"><span id="lengthStats-pagesReal">0</span>&nbsp;printed</div>
                </div>
                <div class="flexitem">
                    <div class="description">Scenes</div>
                    <div id="lengthStats-scenes" class="number">0</div>
                </div>
                <div class="flexitem">
                    <div class="description">Words</div>
                    <div id="lengthStats-words" class="number">0</div>
                </div>
                <div class="flexitem">
                    <div class="description">Characters</div>
                    <div id="lengthStats-characters" class="number">0</div>
                    <div class="description"><span id="lengthStats-characterswithoutwhitespace">0</span>&nbsp;without spaces</div>
                </div>
                <div class="flexitem">
                    <div class="description">Lines</div>
                    <div id="lengthStats-lines" class="number">0</div>
                    <div class="description"><span id="lengthStats-lineswithoutwhitespace"></span>&nbsp;without spaces</div>
                </div>

            </div>
            <h1><span class="codicon codicon-watch"></span>Duration</h1>
            <div>
                <div class="flexgroup durationstats">
                    <div class="flexitem">
                        <div class="description">Total</div>
                        <div id="durationStats-total" class="number" style="font-weight: 600;">0</div>
                    </div>
                    <div class="flexitem minor">
                        <div class="description">Action</div>
                        <div id="durationStats-action" class="number">0</div>
                    </div>
                    <div class="flexitem minor">
                        <div class="description">Dialogue</div>
                        <div id="durationStats-dialogue" class="number">0</div>
                    </div>
                </div>
                <div id="durationStats-summary" class="summary"></div>
                <div style="height:200px;box-sizing: border-box;" class="linechart" id="durationStats-lengthchart"></div>
            </div>
        </div>
        <div style="display:none" data-group="characters">
            <h1><span class="codicon codicon-organization"></span>Characters</h1>
            <div class="flexgroup lengthstats">
                <div class="flexitem">
                    <div class="description">Characters</div>
                    <div id="characterStats-count" class="number">15</div>
                </div>
                <div class="flexitem">
                    <div class="description">Monologues</div>
                    <div id="characterStats-monologues" class="number">2</div>
                </div>
                <div class="flexitem" title="The median of each character's readability score, corresponding to the average age from which one could understand their dialogue.">
                    <div class="description">Complexity</div>
                    <div id="characterStats-complexity" class="number">0.0</div>
                </div>
            </div>
            <div style="height:256px;box-sizing: border-box;" class="linechart" id="characterStats-lengthchart"></div>
            <table id="characterStats-table" style="width:100%;margin-top:24px;">
            </table>

        </div>
        <div style="display:none" data-group="scenes">
            <h1><span class="codicon codicon-output"></span>Scenes</h1>
            <div class="flexgroup lengthstats">
                <div class="flexitem minor">
                    <div class="description">Scenes</div>
                    <div id="sceneStats-count" class="number"></div>
                   
                </div>
            </div>
            <div class="flexgroup durationstats" style="margin-top:0;">
                <div class="flexitem minor hidden">
                    <div class="description">Interior</div>
                    <div data-sceneprop="type_int" class="number" style="font-weight: 600;color:var(--scenecolor-int)">0</div>
                </div>
                <div class="flexitem minor hidden">
                    <div class="description">Exterior</div>
                    <div data-sceneprop="type_ext" class="number" style="font-weight: 600;color:var(--scenecolor-ext)">0</div>
                </div>
                <div class="flexitem minor hidden">
                    <div class="description">Mixed</div>
                    <div data-sceneprop="type_mixed" class="number" style="font-weight: 600;color:var(--scenecolor-mixed)">0</div>
                </div>
                <div class="flexitem minor hidden">
                    <div class="description">Dawn</div>
                    <div data-sceneprop="time_dawn" class="number" style="font-weight: 600;color:var(--scenecolor-dawn)">0</div>
                </div>
                <div class="flexitem minor hidden">
                    <div class="description">Morning</div>
                    <div data-sceneprop="time_morning" class="number" style="font-weight: 600;color:var(--scenecolor-morning)">0</div>
                </div>
                <div class="flexitem minor hidden">
                    <div class="description">Day</div>
                    <div data-sceneprop="time_day" class="number" style="font-weight: 600;color:var(--scenecolor-day)">0</div>
                </div>
                <div class="flexitem minor hidden">
                    <div class="description">Evening</div>
                    <div data-sceneprop="time_evening" class="number" style="font-weight: 600;color:var(--scenecolor-evening)">0</div>
                </div>
                <div class="flexitem minor hidden">
                    <div class="description">Dusk</div>
                    <div data-sceneprop="time_dusk" class="number" style="font-weight: 600;color:var(--scenecolor-dusk)">0</div>
                </div>
                <div class="flexitem minor hidden">
                    <div class="description">Night</div>
                    <div data-sceneprop="time_night" class="number" style="font-weight: 600;color:var(--scenecolor-night)">0</div>
                </div>
            </div>
            <div id="durationStats-scenesummary" class="summary"></div>
            <div style="height:180px;box-sizing: border-box;" class="barcodechart" id="sceneStats-timechart"></div>
        </div>
        <!--<div style="display:none" data-group="locations">
            Locations
        </div>-->
    </div>
</div>
<script src="$STATSJS$"></script>
</body>
</html>